"use strict";function favoritesShows(t){const e=parseInt(t.currentTarget.id),s=favorites.indexOf(shows[e]);let i,a=!1;for(let t=0;t<favorites.length;t++)if(shows[e].id===favorites[t].id){a=!0,i=t;break}!0===a?favorites.splice(i,1):!1===a&&(-1===s?favorites.push(shows[e]):favorites.splice(s,1)),paintShows(),listenShow()}function listenShow(){const t=document.querySelectorAll(".js-show-item");for(const e of t)e.addEventListener("click",favoritesShows);paintFavorites()}const btn=document.querySelector(".js--button"),showsList=document.querySelector(".main__list"),main=document.querySelector(".main");let shows=[],favorites=[];function getFetch(){const t=document.querySelector(".js--input").value;console.log(t),fetch("//api.tvmaze.com/search/shows?q="+t).then(t=>t.json()).then(t=>{for(let e=0;e<t.length;e++)shows[e]=t[e].show;paintShows(),listenShow()})}function paintFavorites(){const t=document.querySelector(".main__fav");if(0===favorites.length)t.innerHTML="";else if(favorites.length>0){let e="";for(let t=0;t<favorites.length;t++){let s;e=paintData(e,`<li class='js-fav-item' id="${t}">`),e=paintData(e,`<h2 class="js-fav-name">${favorites[t].name}</h2>`),e=paintData(e,'<div class="js-fav-container">'),s=null===favorites[t].image?"https://via.placeholder.com/210x295/ffffff/666666/? text=TV":favorites[t].image.medium,e=paintData(e,`<img class="js-show-img" src="${s}" alt="${favorites[t].name}" />`),e=paintData(e,"</div>"),e=paintData(e,"</li>")}t.innerHTML=e}}function paintData(t,e){return t+=e}function getClassShow(t){let e;if(-1===favorites.indexOf(shows[t]))for(const s of favorites){if(shows[t].id===s.id)return e="js-show-item-favorite",e;e=""}else e="js-show-item-favorite";return e}function paintShows(){let t="";if(0!==shows.length){for(let e=0;e<shows.length;e++){let s;t=paintData(t,`<li class='js-show-item ${getClassShow(e)}' id="${e}">`),t=paintData(t,`<h2 class="js-show-name">${shows[e].name}</h2>`),t=paintData(t,'<div class="js-show-container">'),s=null===shows[e].image?"https://via.placeholder.com/210x295/ffffff/666666/? text=TV":shows[e].image.medium,t=paintData(t,`<img class="js-show-img" src="${s}" alt="${shows[e].name}" />`),t=paintData(t,"</div>"),t=paintData(t,"</li>")}showsList.innerHTML=t}else{const t=document.querySelector(".js--input").value;showsList.innerHTML=`No existe ningun resultado con el nombre "${t}"`}}btn.addEventListener("click",getFetch);